<!DOCTYPE html>
<html lang="fr" ng-app="timeForGamesApp">
    <head>
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta charset="utf-8">
        <title>Rêves et Légendes - Planification des Parties</title>

        <link rel="stylesheet" href="http://cdn.jsdelivr.net/qtip2/2.2.0/jquery.qtip.min.css">
        <link rel="stylesheet" href="css/tfg.css">
        <link rel="shortcut icon" type="image/x-icon" href="images/logo_t10.jpg" />

        <script src="http://code.jquery.com/jquery-1.11.0.min.js"></script>
        <script src="http://cdn.jsdelivr.net/qtip2/2.2.0/jquery.qtip.min.js"></script>
        
        <script src="lib/angular-file-upload-shim.min.js"></script>
        <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.2.13/angular.js"></script>
        <script src="lib/angular-file-upload.min.js"></script>

        <script src="lib/angular-locale_fr-fr.js"></script>
        <script src="lib/angular-local-storage.min.js"></script>
        <script src="lib/bindonce.js"></script>
        <script src="js/gg.js"></script>
        <script src="js/app.js"></script>
        <script src="js/controllers.js"></script>
        <script src="js/filters.js"></script>
        <script src="js/services.js"></script>
        <script src="js/directives.js"></script>

    </head>
    <body ng-controller="CalendarCtrl" data-display="desktop">
        <script type="text/javascript">
            $(function() {

                $('[ttip!=""]').qtip({
                    style : {
                        classes : 'infoTooltip'
                    },
                    content : {
                        attr : 'ttip'
                    },
                    position : {
                        my : 'bottom left',
                        at : 'top right'
                    },
                    show : {
                        event : 'mouseenter click',
                    },
                    hide : {
                        delay : 10,
                        event : 'mouseleave',
                    }
                });

		angular.element('body').scope().relogin();
            });
        </script>
 
    <div id="userBox" ng-show="currentUser">
        <div id="welcomeText">
            Bienvenue {{ currentUser }}
        </div>
        <div ng-click="logout()">Se déconnecter</>
    </div>
    
    <div id="filtersSuperbox">
        <div id="filtersToggle">
            
        </div>
        <div id="filtersBox">
            <div id="openSettingsFiltersBox">
                Chroniques ouvertes

                    <div bindonce ng-repeat="setting in openSettings" ng-click="toggleSettingVisibility(setting.id)" ng-class="{filterDisabled : !setting.visible}">
                        <div>
                            <span bo-text="setting.name"></span>
                        </div>
                    </div>
                
            </div>
            <div id="closedSettingsFiltersBox">

                Chroniques fermées

                    <div bindonce ng-repeat="setting in closedSettings" ng-click="toggleSettingVisibility(setting.id)" ng-class="{filterDisabled : !setting.visible}">
                        <div>
                            <span bo-text="setting.name"></span>
                        </div>
                    </div>
                
            </div>
        </div>
    </div>
    
 
         <div bindonce ng-repeat="timeframe in timeframes">

          <div bo-if="timeframe.collapsed">
                     
                Période du <span bo-text="timeframe.date | date:'EEE dd/MM/yyyy'"></span>-<span bo-text="timeframesNames[timeframe.code]"></span> au <span bo-text="timeframe.end.date | date:'EEE dd/MM/yyyy'"></span>-<span bo-text="timeframesNames[timeframe.end.code]"></span> - Ajouter une partie 
              <ul class="tfdropdown">
                <li bindonce ng-repeat="subtf in timeframe.subs"><a href="#" ng-click="selectSetting(subtf)"><span bo-text="subtf.date | date:'EEE dd/MM/yyyy'"></span> - <span bo-text="timeframesNames[subtf.code]"></a></li>
              </ul>
          </div>

          <div bo-if="!timeframe.collapsed" class="row">
                      <div>
                        <span bo-text="timeframe.date | date:'EEE dd/MM/yyyy'"></span><br/><span bo-text="timeframesNames[timeframe.code]"></span>
                      </div>
                      <div>
                        <div>
                        Parties potentielles
                        </div>
            <div ng-repeat="schedule in timeframe.settings">
                <span>{{schedule.name}}</span>
            </div>
                        <div ng-click="selectSetting(timeframe)">
                        Ajouter une partie
                        </div>
                      </div>
                      <div>
                        Parties validées
                      </div>
          </div>
        </div>
    </body>
</html>

